
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Receiving and responding to Telegram Alarms &#8212; Training village</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=04772280" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=26a4bc78f4c0ddb94549"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549" />

    <script src="../_static/documentation_options.js?v=d70f0a06"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'user_guide/alarms';</script>
    <link rel="canonical" href="https://BrainCircuitsBehaviorLab.github.io/village/user_guide/alarms.html" />
    <link rel="icon" href="../_static/favicon.svg"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="How to Build the Training Village" href="../how_to_build_index.html" />
    <link rel="prev" title="Maintenance" href="maintenance.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="Training village - Home"/>
    <img src="../_static/logo.png" class="logo__image only-dark pst-js-only" alt="Training village - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../user_guide_index.html">User Guide</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="remote.html">Configure remote access</a></li>
<li class="toctree-l2"><a class="reference internal" href="animal_procedures.html">Animal Procedures</a></li>
<li class="toctree-l2"><a class="reference internal" href="GUI.html">Using the GUI</a></li>
<li class="toctree-l2"><a class="reference internal" href="telegram.html">Create a Telegram Bot</a></li>
<li class="toctree-l2"><a class="reference internal" href="project_structure.html">Project Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="state_machine.html">System State Machine</a></li>
<li class="toctree-l2"><a class="reference internal" href="maintenance.html">Maintenance</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Receiving and responding to Telegram Alarms</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../how_to_build_index.html">How to Build the Training Village</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../how_to_build/list_of_parts.html">List of Parts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../how_to_build/assembly_instructions.html">Assembly Instructions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../how_to_build/software_installation.html">Software Installation</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../data_collection_index.html">Data Collection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources_index.html">Resources</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../api_index.html">API</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../api_generated/village.devices.html">devices</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../api_generated/village.devices.bpod.html">bpod</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.devices.bpod.get_bpod.html">get_bpod</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.devices.bpod.PyBpod.html">PyBpod</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.devices.bpod.Softcode.html">Softcode</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../api_generated/village.devices.scale.html">scale</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.devices.scale.get_scale.html">get_scale</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.devices.scale.Scale.html">Scale</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../api_generated/village.devices.temp_sensor.html">temp_sensor</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.devices.temp_sensor.get_temp_sensor.html">get_temp_sensor</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.devices.temp_sensor.TempSensor.html">TempSensor</a></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../api_generated/village.classes.html">classes</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../api_generated/village.classes.collection.html">collection</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.classes.collection.Collection.html">Collection</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../api_generated/village.classes.enums.html">enums</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.classes.enums.Actions.html">Actions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.classes.enums.Active.html">Active</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.classes.enums.AreaActive.html">AreaActive</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.classes.enums.Color.html">Color</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.classes.enums.Cycle.html">Cycle</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.classes.enums.DataTable.html">DataTable</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.classes.enums.Info.html">Info</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.classes.enums.ScreenActive.html">ScreenActive</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.classes.enums.State.html">State</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.classes.enums.SuperEnum.html">SuperEnum</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../api_generated/village.classes.protocols.html">protocols</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.classes.protocols.CameraProtocol.html">CameraProtocol</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.classes.protocols.EventProtocol.html">EventProtocol</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.classes.protocols.PyBpodProtocol.html">PyBpodProtocol</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.classes.protocols.ScaleProtocol.html">ScaleProtocol</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.classes.protocols.TelegramBotProtocol.html">TelegramBotProtocol</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.classes.protocols.TempSensorProtocol.html">TempSensorProtocol</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../api_generated/village.classes.settings_class.html">settings_class</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.classes.settings_class.Setting.html">Setting</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.classes.settings_class.Settings.html">Settings</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../api_generated/village.classes.subject.html">subject</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.classes.subject.Subject.html">Subject</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../api_generated/village.classes.task.html">task</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.classes.task.Event.html">Event</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.classes.task.Output.html">Output</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.classes.task.Task.html">Task</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.classes.task.TaskError.html">village.classes.task.TaskError</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../api_generated/village.classes.training.html">training</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.classes.training.Settings.html">Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.classes.training.Training.html">Training</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.classes.training.TrainingError.html">village.classes.training.TrainingError</a></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../api_generated/village.gui.html">gui</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../api_generated/village.pybpodapi.html">pybpodapi</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../api_generated/village.pybpodapi.bpod.html">bpod</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.pybpodapi.bpod.Bpod.html">Bpod</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.pybpodapi.bpod.bpod_base.html">bpod_base</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.pybpodapi.bpod.bpod_com_protocol.html">bpod_com_protocol</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.pybpodapi.bpod.bpod_com_protocol_modules.html">bpod_com_protocol_modules</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.pybpodapi.bpod.bpod_io.html">bpod_io</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.pybpodapi.bpod.hardware.html">hardware</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.pybpodapi.bpod.non_blockingsocketreceive.html">non_blockingsocketreceive</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.pybpodapi.bpod.non_blockingstreamreader.html">non_blockingstreamreader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.pybpodapi.bpod.settings.html">settings</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../api_generated/village.pybpodapi.bpod_modules.html">bpod_modules</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.pybpodapi.bpod_modules.bpod_module.html">bpod_module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.pybpodapi.bpod_modules.bpod_modules.html">bpod_modules</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../api_generated/village.pybpodapi.com.html">com</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.pybpodapi.com.arcom.html">arcom</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.pybpodapi.com.messaging.html">messaging</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.pybpodapi.com.protocol.html">protocol</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.pybpodapi.com.stderr_buffer.html">stderr_buffer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.pybpodapi.com.stdout_buffer.html">stdout_buffer</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../api_generated/village.pybpodapi.exceptions.html">exceptions</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.pybpodapi.exceptions.bpod_error.html">bpod_error</a></li>
</ul>
</details></li>
<li class="toctree-l3"><a class="reference internal" href="../api_generated/village.pybpodapi.protocol.html">protocol</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../api_generated/village.pybpodapi.session.html">session</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.pybpodapi.session.Session.html">Session</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.pybpodapi.session.StreamsWrapper.html">StreamsWrapper</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../api_generated/village.pybpodapi.state_machine.html">state_machine</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.pybpodapi.state_machine.StateMachine.html">StateMachine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.pybpodapi.state_machine.conditions.html">conditions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.pybpodapi.state_machine.global_counters.html">global_counters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.pybpodapi.state_machine.global_timers.html">global_timers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.pybpodapi.state_machine.state_machine_base.html">state_machine_base</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.pybpodapi.state_machine.state_machine_builder.html">state_machine_builder</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.pybpodapi.state_machine.state_machine_runner.html">state_machine_runner</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../api_generated/village.pybpodapi.utils.html">utils</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.pybpodapi.utils.csv.html">csv</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.pybpodapi.utils.date_parser.html">date_parser</a></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../api_generated/village.screen.html">screen</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../api_generated/village.screen.behaviour_window.html">behaviour_window</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../api_generated/village.screen.behaviour_window.BehaviourWindow.html">BehaviourWindow</a></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../api_generated/village.log.html">log</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../api_generated/village.log.Log.html">Log</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../api_generated/village.rt_plots.html">rt_plots</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../api_generated/village.rt_plots.RTPlots.html">RTPlots</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../api_generated/village.time_utils.html">time_utils</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../api_generated/village.time_utils.TimeUtils.html">TimeUtils</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../api_generated/village.video.html">video</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../api_generated/village.video.Example.html">Example</a></li>
</ul>
</details></li>
</ul>
</details></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">



<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Receiving and responding to Telegram Alarms</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#interrogate-the-system">Interrogate the system</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#alarms">Alarms</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="receiving-and-responding-to-telegram-alarms">
<h1>Receiving and responding to Telegram Alarms</h1>
<section id="interrogate-the-system">
<h2>Interrogate the system</h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">/status</span> <span class="pre">‘hours’</span></code> → Summary of what happened in the behavioral box the last hours.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/cam</span></code> → Screenshot of the cameras’ recording.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/plot</span> <span class="pre">‘days’</span></code> → Gui plots.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/report</span> <span class="pre">‘hours</span> <span class="pre">days’</span></code> → status+cam+plot.</p></li>
</ul>
</section>
<section id="alarms">
<h2>Alarms</h2>
<!--
### ALARM: check weight and water

**Very frequent**

Triggered when a mouse weighs less than 50% of its basal weight or has drunk less than 400 µl in the last 24 hours, or less than 1000 µl in the last 48h.

- **Weight**: Check intersession if all animals have a drop; it might indicate a lack of water or food in the setup, or that the scale is not working well. If it's a single animal, weigh it manually, assess its health score, and check its last session's performance. It might be too lost in the training.
- **Water**: Used to be very important but with CA we can relax. Check if the animal has been drinking less than 600 µl during 2-3 consecutive days, and if so, supplement manually with 500-1000 µl.

### ALARM: mouse has been more than ‘x’ seconds in the box

**Very frequent**

Connect remotely. If the mouse is sleeping, play a buzzer sound or open and close the door. It will exit automatically. If it doesn’t exit after a long time (>5 hours), go in person to check what happens. If the room temperature is very high, they tend to sleep more inside. If so, email Sergi.

### ALARM: Mouse trapped in the corridor

**Frequent**

Usually occurs when 2 mice overlap in the door 2 zone, allowing the task to start. This usually resolves itself, but if not, open door 1 remotely. This alarm can also be triggered if a mouse escapes from the cage and walks on top of the corridor. If you suspect this, check corridor videos where the alarm was triggered.

### ALARM: 2 mice in box

**Frequent**

Check the inner camera remotely. Can you see two mice? If yes, make them exit, delete the session, and check why with videos. If no, check if cam areas are overlapping with the touchscreen (false alarm). Adjust the areas in the camera settings manually.

### ALARM: Animal on the floor

**Very frequent**

Some animals learn how to go down (e.g., A49), and once they learn, they do it often. It’s not harmful, just annoying because they lose a lot of time exploring something unrelated to the task.

- If it’s a regular explorer, just ignore it.
- If it’s a new animal, check why it’s on the floor and if it knows how to come back. If not, you will need to help it manually.

Sometimes this is a false alarm when the camera is moved and areas are misplaced. If so, correct it.

### ALARM: Few trials

**Very frequent in novel animals**

- For well-trained animals: If triggered, something might be wrong in the behavioral box (e.g., a photogate is misplaced, or the pump is not working). Go in person and test the task manually.
- For novel animals: If triggered after being for a long time (>5 days) in the same stage, it means they are very lost in the training. Move them to an easier stage manually.

### ALARM: last session ended

**Rare**

Check remotely what’s happening:

- **Correct functioning of the doors**: If not, go in person and fix it (e.g., dust, motor, or Arduino issues).
- **RFID detections**: If not in the last few hours, check if the button is on.
- **Scale detection**: Tag scale and get weight 4-5 times. It should weigh slightly different numbers. If always 0, it’s likely not working—go in person to check connections.
- **Camera problems**: If the camera is not working, reload academy. If still not working, try `cd /dev → ls` in terminal to check if you can see the camera. If not, reconnect or change its port.
- **Academy script**: Ensure the script is running. If an error occurs, check for wrong lines in subjects or events.
- **Animal movement**: If everything works but animals are not moving, check in person if corridor access is closed or if animals are sick or have escaped.

### ALARM: Overdetections in ‘Session’

**Rare**

Indicates an abnormal amount of photogate beam crosses. This can happen due to interference from the buzzer port or misaligned photogates.

- If Buzzer (Port 2), go in person, connect, and disconnect the device. If it happens many days with the same device, change it.
- If photogates: Check in person if they are correctly aligned. If not, align them. If still not working, change the photogates.

### ALARM: touchscreen not working for ‘Subject’

**Rare**

Usually occurs due to electronic failures. If sporadic, ignore it. If frequent, disconnect the touch device, turn off the PC, reconnect it, and turn it on.

### ALARM: last heartbeat

**Rare**

PC is off or has lost internet connection. Go in person and check what’s happening.

### ALARM: bpod communication error

**Rare**

Sometimes Bpod fails. Ignore it unless it becomes frequent.

## Errors not detected by the alarm system

- **Ecohab not detecting**: Stop Ecohab script, disconnect USB & power supply. Reconnect everything in the following order: 1) Power supply 2) USB 3) Ecohab script. Check that all antennas (1-6) are detected.
- **High temperatures in the room**: Ventilation system is very bad; many times temperatures rise above 24ºC. Email Sergi.
- **Reloading academy**: Stops Ecohab. Be sure to play Ecohab after.
- **Inside camera freeze/doesn’t work**: Reload academy. If still not working, check `cd /dev ls` to find the camera. If not, change the device.
- **Bpod stuck in a task**: Close academy, unplug and plug Bpod (it becomes blue), wait 1 minute, and play academy again.
- **Sound not working**: Check buzzer cables, Bpod power supply (only affects high-pitch sounds).
- **Water not delivered**: Check pump, valves, refill bottle, calibrate.
- **Touchscreen ghost detections**: Remove mask, clean IR frame.
- **Screen issues**: Check cables and display settings. -->
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Alarm</strong></p></th>
<th class="head"><p><strong>Frequency</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
<th class="head"><p><strong>Recommended Actions</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Check weight and water</strong></p></td>
<td><p>Very frequent</p></td>
<td><p>Triggered when a mouse weighs less than 50% basal weight or has drunk less than the threshold.</p></td>
<td><p>- For weight: Check for intersession issues, manually weigh, assess health score, and review performance.  - For water: If below 600 µl for 2-3 days, supplement with 500-1000 µl manually.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Mouse in box for ‘x’ seconds</strong></p></td>
<td><p>Very frequent</p></td>
<td><p>Mouse has been in the box for a long time.</p></td>
<td><p>Connect remotely, play buzzer, open/close door. If no response &gt;5 hours, go in person. Check temperature.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Mouse trapped in corridor</strong></p></td>
<td><p>Frequent</p></td>
<td><p>Two mice overlap in the doors’ zone, allowing task to start, or mouse escaped to corridor.</p></td>
<td><p>Open door 1 remotely. If suspected escape, check corridor videos.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>2 mice in box</strong></p></td>
<td><p>Frequent</p></td>
<td><p>System detects two mice inside the box.</p></td>
<td><p>Verify via inner camera. If true, make them exit, delete session, and review videos. If false, check camera settings for overlap.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Animal on the floor</strong></p></td>
<td><p>Very frequent</p></td>
<td><p>Mouse has learned to go down to the floor of the box.</p></td>
<td><p>If a regular explorer, ignore. If a new animal, check if it knows how to return. Manually help if needed.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Few trials</strong></p></td>
<td><p>Very frequent</p></td>
<td><p>Indicates fewer trials than expected, common in new or poorly trained mice.</p></td>
<td><p>- Well-trained mice: Check the behavioral box and task manually.  - New mice: Consider moving to an easier stage if not improving.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Last session ended</strong></p></td>
<td><p>Rare</p></td>
<td><p>Session ended unexpectedly.</p></td>
<td><p>- Check doors, RFID, and scale for issues.  - Ensure camera and script are running.  - Verify animal movement and room status.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Overdetections in ‘Session’</strong></p></td>
<td><p>Rare</p></td>
<td><p>Abnormal number of photogate beam crosses detected.</p></td>
<td><p>Check buzzer or photogate alignment. Adjust or replace components as needed.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Touchscreen not working for ‘Subject’</strong></p></td>
<td><p>Rare</p></td>
<td><p>Touchscreen failure during session.</p></td>
<td><p>Disconnect and reconnect the device. Restart PC if the issue persists.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Last heartbeat</strong></p></td>
<td><p>Rare</p></td>
<td><p>PC is off or has lost internet connection.</p></td>
<td><p>Go in person to check for power or network issues.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Bpod communication error</strong></p></td>
<td><p>Rare</p></td>
<td><p>Communication error between the Bpod and the system.</p></td>
<td><p>Usually can be ignored unless it becomes frequent.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Bpod not sending softcodes</strong></p></td>
<td><p>Never happens</p></td>
<td><p>Issue with Bpod softcode transmission.</p></td>
<td><p>Ignore unless it starts happening frequently.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Bpod not sending serials</strong></p></td>
<td><p>Never happens</p></td>
<td><p>Issue with Bpod serial transmission.</p></td>
<td><p>Ignore unless it starts happening frequently.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Ecohab not detecting</strong></p></td>
<td><p>Not detected by alarm</p></td>
<td><p>Antennas not detected by Ecohab.</p></td>
<td><p>Restart Ecohab script, reconnect USB and power supply. Check antenna status.</p></td>
</tr>
</tbody>
</table>
</div>
<br>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="maintenance.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Maintenance</p>
      </div>
    </a>
    <a class="right-next"
       href="../how_to_build_index.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">How to Build the Training Village</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#interrogate-the-system">Interrogate the system</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#alarms">Alarms</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Rafael Marin
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024, Rafael Marin, Balma Serrano, Hernando Vergara.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>